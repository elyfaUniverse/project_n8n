# Два процесса автоматизации для сайта на Tilda https://universelyfa.ru/

## 📋 Оглавление
1. [Общее описание](#общее-описание)
2. [Процесс 1: Автоматическая выгрузка новостей](#процесс-1-автоматическая-выгрузка-новостей) https://universelyfa.ru/
3. [Процесс 2: AI-чатбот для сайта](#процесс-2-ai-чатбот-для-сайта) https://universelyfa.ru/
4. [Связь между процессами](#связь-между-процессами)
5. [Архитектура системы](#архитектура-системы)
6. [Техническая реализация](#техническая-реализация)
7. [Демонстрация работы](#демонстрация-работы)

---

## 🎯  Общее описание

Система состоит из двух независимых, но дополняющих друг друга процессов автоматизации для сайта, созданного на платформе Tilda: https://universelyfa.ru/

1. **Новостной агрегатор** - автоматический сбор и публикация новостей
2. **AI-чатбот** - интеллектуальный помощник для посетителей сайта

Оба процесса используют облачные сервисы (n8n, Airtable, OpenRouter) для полной автоматизации без необходимости серверного программирования.

---

## 🎯  Процесс 1: Автоматическая выгрузка новостей

### Назначение
Автоматический сбор новостей из RSS-ленты и публикация их на сайте Tilda через Airtable.

### Поток данных
```
Расписание → HTTP запрос → RSS/XML → Парсинг → 
→ Очистка данных → Airtable → Tilda Zero Block → Сайт
```

### Компоненты:
1. **Schedule Trigger** - периодический запуск
2. **HTTP Request** - получение RSS с 3DNews
3. **JavaScript Code** - парсинг и обработка данных
4. **Airtable Node** - сохранение в базу данных
5. **Tilda Zero Block** - отображение на сайте

---

## 🎯  Процесс 2: AI-чатбот для сайта

### Назначение
Интеллектуальный помощник для общения с посетителями сайта в реальном времени.

### Поток данных
```
Пользователь → Вебхук → AI-обработка → 
→ Форматирование → Ответ → Tilda → Пользователь
```

### Компоненты:
1. **Chat Trigger** - прием сообщений от пользователей
2. **Basic LLM Chain** - системный промпт и обработка
3. **OpenRouter Chat Model** - AI-модель GPT-3.5 Turbo
4. **JavaScript Code** - форматирование ответов
5. **Tilda JavaScript** - интеграция на сайте

---

## 🎯  Связь между процессами

###  Общая архитектура
```
┌─────────────────────────────────────────────────────────────┐
│                      САЙТ НА TILDA                          │
├─────────────────┬───────────────────────────────────────────┤
│  НОВОСТНОЙ РАЗДЕЛ           │      ЧАТ-БОТ                 │
│  (Zero Block)               │  (JavaScript + AI)           │
├─────────────────┼───────────────────────────────────────────┤
│      ↑                          ↑                           │
│      ↓                          ↓                           │
├─────────────────┼───────────────────────────────────────────┤
│    AIRTABLE     │              n8n Webhook                  │
│   (База данных) │          (Обработка запросов)             │
├─────────────────┼───────────────────────────────────────────┤
│      ↑                          ↑                           │
│      ↓                          ↓                           │
├─────────────────┼───────────────────────────────────────────┤
│    n8n Workflow 1            n8n Workflow 2                │
│  (Парсинг новостей)         (AI-чатбот)                    │
├─────────────────┼───────────────────────────────────────────┤
│      ↑                          ↑                           │
│      ↓                          ↓                           │
└─────────────────┴───────────────────────────────────────────┘
       ↓                          ↓
 RSS-лента 3DNews          AI-модель OpenRouter
```

## 🎯 Архитектура системы

### Уровни системы:

```
Уровень 1: Презентационный (Tilda)
├── Новостной раздел (статический контент)
└── Чат-интерфейс (интерактивный контент)

Уровень 2: Данные и логика (n8n + Airtable)
├── Workflow 1: Парсинг и обработка новостей
├── Workflow 2: AI-обработка сообщений
└── Airtable: Хранение новостей

Уровень 3: Источники данных
├── RSS-лента 3DNews (новости)
└── OpenRouter API (AI-модели)
```

### Технологический стек:
- **Frontend**: Tilda (Zero Block, JavaScript)
- **Automation**: n8n (workflow orchestration)
- **Database**: Airtable (headless CMS)
- **AI**: OpenRouter (GPT-3.5 Turbo)
- **APIs**: REST, Webhooks, RSS

---

## 🎯  Техническая реализация

### Структура файлов:
```
project/
├── news_tilda.json          # Workflow 1: Новостной агрегатор
├── chat_bot_tilda.json      # Workflow 2: AI-чатбот
├── README.md               # Эта документация
└── tilda_integration/      # Код для интеграции с Tilda
    ├── news_block.html     # Zero Block для новостей
    └── chat_interface.js   # JavaScript для чата
```

### Настройка окружения:

#### Для Process 1 (Новости):
```bash
# Требуемые сервисы:
1. n8n instance
2. Airtable account with Personal Access Token
3. Tilda site with Zero Block

# Переменные окружения:
AIRTABLE_API_KEY=keyXXXXXXXXXXXXXX
AIRTABLE_BASE_ID=appNfPgU4FlJBD1Um
RSS_URL=https://3dnews.ru/breaking/rss/
```

#### Для Process 2 (Чатбот):
```bash
# Требуемые сервисы:
1. n8n instance with webhook support
2. OpenRouter API key
3. Tilda site with custom JavaScript

# Переменные окружения:
OPENROUTER_API_KEY=sk-or-v1-XXXXXXXXXXXX
TILDA_DOMAIN=https://universelyfa.ru
WEBHOOK_URL=https://your-n8n/webhook/chat-bot
```

## 🎯 Демонстрация работы

### 📰 Пример Process 1 (Новости):
```
1. Каждый час n8n проверяет RSS 3DNews
2. Находит 10 новых статей
3. Извлекает заголовки, описания, изображения
4. Сохраняет в Airtable
5. На сайте Tilda автоматически появляется новая новость
```

### Пример Process 2 (Чатбот):
```
1. Посетитель спрашивает: "Какие у вас есть новости о видеокартах?"
2. Tilda отправляет вопрос на вебхук n8n
3. AI обрабатывает вопрос и генерирует ответ
4. Ответ форматируется в HTML
5. Пользователь видет структурированный ответ 
```

---

